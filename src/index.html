<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>MeOS</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/desktop.css">
    <link rel="stylesheet" href="/css/taskbar.css">

    <!-- MODULES -->
    <script src="/modules/share.js"></script>

    <!-- SCRIPTS -->
    <script src="/js/weather.js"></script>
    
    <script src="/js/connection.js"></script>
    <script src="/js/sound.js"></script>
    <script src="/js/taskbar.js"></script><!-- TASKBAR TIME -->
    <link rel="stylesheet" href="/css/action-menu.css">
    <script src="/js/action-menu.js"></script>

    <!-- COMPONENTS -->

    <!-- windows -->
    <script src="/components/windows.js" type="module"></script>
    <link rel="stylesheet" href="/css/window-defaults.css">
    
    <!-- notifications -->
    <script src="/components/notifications.js" type="module"></script>
    <link rel="stylesheet" href="/css/push-notifications.css">

    <!-- calendar widget -->
    <script src="/components/calendar.js" type="module"></script>

    <!-- taskbar apps -->
    <script src="/components/taskbar-app.js" type="module"></script>
    <script src="/js/taskbar-apps.js"></script>

    <!-- PWA -->
    <script src="/pwa/register.js"></script>

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#191919">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
</head>
<body>
    <!-- Desktop -->
    <div id="desktop">
        <h1>MeOS</h1>
        <app-window name="About" class="website">
            <iframe src="/about/" frameborder="0"></iframe>
        </app-window>
        <div id="push-notifications">
            <!-- Notifications will be added here -->
            <desktop-notification name="Welcome to MeOS!" content="This is a simple operating system built with HTML, CSS, and JavaScript." time-alive="4000"></desktop-notification>
        </div>
        <div id="action-menu">
            <div class="notifications">
                <header>
                    <h3>Notifications</h3>
                    <button class="clear-all" onclick="this.parentElement.parentElement.children[1].innerHTML = ''">Clear all</button>
                </header>
                <div class="list">
                    <!-- Notifications will be added here -->
                    <notifications-app name="Firefox">
                        <desktop-notification name="Welcome to MeOS!" content="This is a simple operating system built with HTML, CSS, and JavaScript."></desktop-notification>
                    </notifications-app>
                    <notifications-app name="Firefox" icon="data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+RmlyZWZveCBCcm93c2VyPC90aXRsZT48cGF0aCBkPSJNOC44MjQgNy4yODdjLjAwOCAwIC4wMDQgMCAwIDB6bS0yLjgtMS40Yy4wMDYgMCAuMDAzIDAgMCAwem0xNi43NTQgMi4xNjFjLS41MDUtMS4yMTUtMS41My0yLjUyOC0yLjMzMy0yLjk0My42NTQgMS4yODMgMS4wMzMgMi41NyAxLjE3NyAzLjUzbC4wMDIuMDJjLTEuMzE0LTMuMjc4LTMuNTQ0LTQuNi01LjM2Ni03LjQ3Ny0uMDkxLS4xNDctLjE4NC0uMjkyLS4yNzMtLjQ0NmEzLjU0NSAzLjU0NSAwIDAxLS4xMy0uMjQgMi4xMTggMi4xMTggMCAwMS0uMTcyLS40Ni4wMy4wMyAwIDAwLS4wMjctLjAzLjAzOC4wMzggMCAwMC0uMDIxIDBsLS4wMDYuMDAxYS4wMzcuMDM3IDAgMDAtLjAxLjAwNUwxNS42MjQgMGMtMi41ODUgMS41MTUtMy42NTcgNC4xNjgtMy45MzIgNS44NTZhNi4xOTcgNi4xOTcgMCAwMC0yLjMwNS41ODcuMjk3LjI5NyAwIDAwLS4xNDcuMzdjLjA1Ny4xNjIuMjQuMjQuMzk2LjE3YTUuNjIyIDUuNjIyIDAgMDEyLjAwOC0uNTIzbC4wNjctLjAwNWE1Ljg0NyA1Ljg0NyAwIDAxMS45NTcuMjIybC4wOTUuMDNhNS44MTYgNS44MTYgMCAwMS42MTYuMjI4Yy4wOC4wMzYuMTYuMDczLjIzOC4xMTJsLjEwNy4wNTVhNS44MzUgNS44MzUgMCAwMS4zNjguMjExIDUuOTUzIDUuOTUzIDAgMDEyLjAzNCAyLjEwNGMtLjYyLS40MzctMS43MzMtLjg2OC0yLjgwMy0uNjgxIDQuMTgzIDIuMDkgMy4wNiA5LjI5Mi0yLjczNyA5LjAyYTUuMTY0IDUuMTY0IDAgMDEtMS41MTMtLjI5MiA0LjQyIDQuNDIgMCAwMS0uNTM4LS4yMzJjLTEuNDItLjczNS0yLjU5My0yLjEyMS0yLjc0LTMuODA2IDAgMCAuNTM3LTIgMy44NDUtMiAuMzU3IDAgMS4zOC0uOTk4IDEuMzk4LTEuMjg3LS4wMDUtLjA5NS0yLjAyOS0uOS0yLjgxNy0xLjY3Ny0uNDIyLS40MTYtLjYyMi0uNjE2LS44LS43NjdhMy40NyAzLjQ3IDAgMDAtLjMwMS0uMjI3IDUuMzg4IDUuMzg4IDAgMDEtLjAzMi0yLjg0MmMtMS4xOTUuNTQ0LTIuMTI0IDEuNDAzLTIuOCAyLjE2M2gtLjAwNmMtLjQ2LS41ODQtLjQyOC0yLjUxLS40MDItMi45MTMtLjAwNi0uMDI1LS4zNDMuMTc2LS4zODkuMjA2LS40MDYuMjktLjc4Ny42MTYtMS4xMzYuOTc0LS4zOTcuNDAzLS43Ni44MzktMS4wODUgMS4zMDNhOS44MTYgOS44MTYgMCAwMC0xLjU2MiAzLjUyYy0uMDAzLjAxMy0uMTEuNDg3LS4xOSAxLjA3My0uMDEzLjA5LS4wMjYuMTgxLS4wMzcuMjcyYTcuOCA3LjggMCAwMC0uMDY5LjY2N2wtLjAwMi4wMzQtLjAyMy4zODctLjAwMS4wNkMuMzg2IDE4Ljc5NSA1LjU5MyAyNCAxMi4wMTYgMjRjNS43NTIgMCAxMC41MjctNC4xNzYgMTEuNDYzLTkuNjYxLjAyLS4xNDkuMDM1LS4yOTguMDUyLS40NDguMjMyLTEuOTk0LS4wMjUtNC4wOS0uNzUzLTUuODQ0eiIvPjwvc3ZnPg==">
                        <desktop-notification name="Welcome to MeOS!" content="This is a simple operating system built with HTML, CSS, and JavaScript."></desktop-notification>
                        <desktop-notification name="Welcome to MeOS!" content="This is a simple operating system built with HTML, CSS, and JavaScript."></desktop-notification>
                        <desktop-notification name="Welcome to MeOS!" content="This is a simple operating system built with HTML, CSS, and JavaScript."></desktop-notification>
                    </notifications-app>
                </div>
            </div>
            <calendar-widget class="calendar"></calendar-widget>
        </div>
    </div>

    <!-- Taskbar -->
    <div id="taskbar">
        <section class="weather" title="20°C Cloudy">
            <!-- WEATHER -->
            <img class="weather" src="/assets/weather/sunny-day.svg" alt="weather">
            <div class="text">
                <h2 class="temp">20°C</h2>
                <p class="desc">Cloudy</p>
            </div>
        </section>

        <section class="apps" style="width: 60vw;">
            <!-- APPS -->
            <taskbar-app name="About" icon="/assets/apps/about.svg" class="open" onclick="openApp(this); window.open('/about/')"></taskbar-app>
            <taskbar-app name="Share" icon="/modules/share-white.svg" onclick="openApp(this); 
            const clipboard = function(element) {
                console.log(element);
                element.setAttribute('icon', '/modules/copy-white.svg');
                setTimeout(() => {
                    element.setAttribute('icon', '/modules/share-white.svg');
                }, 1000);
            };
            share(clipboard(this), undefined, undefined, description = 'Check out MeOS!');"></taskbar-app>
        </section>

        <section class="menu">
            <!-- MENU -->
            <div class="internet-access icon"
                title="Winternet&#013No connection"
                online-title="WiFi-Name&#013Internet access"
                offline-title="No internet access&#013No connections available"
                >
                <!-- 
                    title = default,
                    online-title = when connected,
                    offline-title = when not connected
                -->


                <img alt="Wifi"
                    src="/assets/connection/wifi.svg"
                    src-yes="/assets/connection/wifi.svg"
                    src-no="/assets/connection/no-wifi.svg"
                >
                <!-- src = default,
                     src-yes = when connected,
                     src-no = when not connected
                -->
            </div>

            <div class="speaker icon" title="Speakers (RTalk(L) Audio): 0%"><img
                alt="speaker"
                src="/assets/sound/speaker.svg"
                src-no="/assets/sound/speaker-muted.svg"
                src-1="/assets/sound/speaker-1.svg"
                src-2="/assets/sound/speaker-2.svg"
                src-3="/assets/sound/speaker-3.svg"
                speaker-levels="3">
                <!-- if the number of src-n values are changed, the `speaker-levels` attribute must be changed
                     each src-n value is a different volume level -> currently 3 levels
                 -->
            </div>
            
            <div class="battery-status icon" title="Battery status: 50% remaining">
                <img src="/assets/power/battery.svg" alt="battery">
                <!-- TODO: SCRIPT FOR SHOWING PERCENTAGE IN TITLE -->
            </div>
        </section>

        <section class="time" title="Tuesday, 30. January 2024">
            <!-- DISPLAY TIME -->
            <div class="time">14:51</div>
            <div class="date">30/01/2024</div>
            <!-- Would you like to know why I chose 14:51 on January 30, 2024? -->
            <!-- I chose this time and date because it was the exact time I started the WebOS project. -->
        </section>
    </div>
</body>
</html>